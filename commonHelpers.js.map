{"version":3,"file":"commonHelpers.js","sources":["../src/js/renderProducts.js","../src/js/detectArrow.js","../src/js/downloadListeners.js","../src/js/fetchProducts.js","../src/main.js"],"sourcesContent":["export function createProductMarkup(product) {\n  let specialClass = 'supply-list-item-amount-wrap';\n  const productName = product.name_display.split(' ').slice(0, 3).join(' ');\n\n  if (product.is_best) {\n    specialClass += ' supply-list-item__best';\n  }\n\n  if (product.price_key === '50%') {\n    specialClass += ' supply-list-item__product_sale';\n  }\n\n  return `\n      <li class=\"supply-list-item\">\n      <div class=\"${specialClass}\">\n      <p class=\"supply-list-item-amount\">$${product.amount}<span class=\"amount-wrap\">/per year</span></p>\n      </div>\n      <p class=\"supply-list-item-product\">${productName}</p>\n      <p class=\"supply-list-item-license\">${product.license_name}</p>\n      <button class=\"download-btn\" data-link=\"${product.link}\">Download\n      <div class=\"svg-wrapper\">\n      <svg class=\"svg-icon\" width=\"18\" height=\"18\" aria-label=\"icon-download\">\n      <use href=\"./img/sprite.svg#icon-download\"/>\n      </svg>\n      </div>\n      </button>\n      </li>\n  `;\n}\n\nexport function renderProducts(products, productsContainer) {\n  const productMarkup = products\n    .map(product => createProductMarkup(product))\n    .join('');\n  productsContainer.innerHTML = productMarkup;\n}\n","export function detectBrowserAndShowArrow(arrow) {\n  const isFirefox = typeof InstallTrigger !== 'undefined';\n  const isChrome =\n    /Chrome/.test(navigator.userAgent) && /Google Inc/.test(navigator.vendor);\n\n  arrow.classList.remove('hidden');\n\n  if (isChrome) {\n    arrow.classList.add('arrow-chrome');\n  } else if (isFirefox) {\n    arrow.classList.add('arrow-firefox');\n  }\n\n  setTimeout(() => {\n    arrow.classList.add('hidden');\n  }, 7000);\n}\n","import { detectBrowserAndShowArrow } from './detectArrow.js';\n\nexport function downloadListeners() {\n  document.querySelectorAll('.download-btn').forEach(button => {\n    const downloadHandler = event => {\n      const link = event.target.getAttribute('data-link');\n      const a = document.createElement('a');\n      a.href = link;\n      a.download = '';\n      a.click();\n\n      detectBrowserAndShowArrow(document.getElementById('arrow'));\n\n      button.removeEventListener('click', downloadHandler);\n    };\n\n    button.addEventListener('click', downloadHandler);\n  });\n}\n","import { renderProducts } from './renderProducts.js';\nimport { downloadListeners } from './downloadListeners.js';\n\nexport function fetchProducts() {\n  fetch('https://veryfast.io/t/front_test_api.php')\n    .then(response => response.json())\n    .then(data => {\n      console.log(data);\n      const productsContainer = document.getElementById('supply-list');\n      renderProducts(data.result.elements, productsContainer);\n      downloadListeners();\n    })\n    .catch(error => console.error('Error fetching products:', error));\n}\n","import { fetchProducts } from './js/fetchProducts';\n\ndocument.addEventListener('DOMContentLoaded', () => {\n  fetchProducts();\n});\n"],"names":["createProductMarkup","product","specialClass","productName","renderProducts","products","productsContainer","productMarkup","detectBrowserAndShowArrow","arrow","isFirefox","isChrome","downloadListeners","button","downloadHandler","event","link","a","fetchProducts","response","data","error"],"mappings":"ssBAAO,SAASA,EAAoBC,EAAS,CAC3C,IAAIC,EAAe,+BACnB,MAAMC,EAAcF,EAAQ,aAAa,MAAM,GAAG,EAAE,MAAM,EAAG,CAAC,EAAE,KAAK,GAAG,EAExE,OAAIA,EAAQ,UACVC,GAAgB,2BAGdD,EAAQ,YAAc,QACxBC,GAAgB,mCAGX;AAAA;AAAA,oBAEWA,CAAY;AAAA,4CACYD,EAAQ,MAAM;AAAA;AAAA,4CAEdE,CAAW;AAAA,4CACXF,EAAQ,YAAY;AAAA,gDAChBA,EAAQ,IAAI;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA;AAAA,GAS5D,CAEO,SAASG,EAAeC,EAAUC,EAAmB,CAC1D,MAAMC,EAAgBF,EACnB,IAAIJ,GAAWD,EAAoBC,CAAO,CAAC,EAC3C,KAAK,EAAE,EACVK,EAAkB,UAAYC,CAChC,CCnCO,SAASC,EAA0BC,EAAO,CAC/C,MAAMC,EAAY,OAAO,eAAmB,IACtCC,EACJ,SAAS,KAAK,UAAU,SAAS,GAAK,aAAa,KAAK,UAAU,MAAM,EAE1EF,EAAM,UAAU,OAAO,QAAQ,EAE3BE,EACFF,EAAM,UAAU,IAAI,cAAc,EACzBC,GACTD,EAAM,UAAU,IAAI,eAAe,EAGrC,WAAW,IAAM,CACfA,EAAM,UAAU,IAAI,QAAQ,CAC7B,EAAE,GAAI,CACT,CCdO,SAASG,GAAoB,CAClC,SAAS,iBAAiB,eAAe,EAAE,QAAQC,GAAU,CAC3D,MAAMC,EAAkBC,GAAS,CAC/B,MAAMC,EAAOD,EAAM,OAAO,aAAa,WAAW,EAC5CE,EAAI,SAAS,cAAc,GAAG,EACpCA,EAAE,KAAOD,EACTC,EAAE,SAAW,GACbA,EAAE,MAAK,EAEPT,EAA0B,SAAS,eAAe,OAAO,CAAC,EAE1DK,EAAO,oBAAoB,QAASC,CAAe,CACzD,EAEID,EAAO,iBAAiB,QAASC,CAAe,CACpD,CAAG,CACH,CCfO,SAASI,GAAgB,CAC9B,MAAM,0CAA0C,EAC7C,KAAKC,GAAYA,EAAS,MAAM,EAChC,KAAKC,GAAQ,CACZ,QAAQ,IAAIA,CAAI,EAChB,MAAMd,EAAoB,SAAS,eAAe,aAAa,EAC/DF,EAAegB,EAAK,OAAO,SAAUd,CAAiB,EACtDM,GACN,CAAK,EACA,MAAMS,GAAS,QAAQ,MAAM,2BAA4BA,CAAK,CAAC,CACpE,CCXA,SAAS,iBAAiB,mBAAoB,IAAM,CAClDH,GACF,CAAC"}